<template>
  <div>
      <div class="warrants-container">
          <div class="container">
              <div class="page-title-banner warrants">
                  <h2><svg width="40" height="36" viewBox="0 0 40 36" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M30 16H28C27.4696 16 26.9609 16.2107 26.5858 16.5858C26.2107 16.9609 26 17.4696 26 18C26 18.5304 26.2107 19.0391 26.5858 19.4142C26.9609 19.7893 27.4696 20 28 20H30C30.5304 20 31.0391 19.7893 31.4142 19.4142C31.7893 19.0391 32 18.5304 32 18C32 17.4696 31.7893 16.9609 31.4142 16.5858C31.0391 16.2107 30.5304 16 30 16ZM30 24H28C27.4696 24 26.9609 24.2107 26.5858 24.5858C26.2107 24.9609 26 25.4696 26 26C26 26.5304 26.2107 27.0391 26.5858 27.4142C26.9609 27.7893 27.4696 28 28 28H30C30.5304 28 31.0391 27.7893 31.4142 27.4142C31.7893 27.0391 32 26.5304 32 26C32 25.4696 31.7893 24.9609 31.4142 24.5858C31.0391 24.2107 30.5304 24 30 24ZM18 12H30C30.5304 12 31.0391 11.7893 31.4142 11.4142C31.7893 11.0391 32 10.5304 32 10C32 9.46957 31.7893 8.96086 31.4142 8.58579C31.0391 8.21071 30.5304 8 30 8H18C17.4696 8 16.9609 8.21071 16.5858 8.58579C16.2107 8.96086 16 9.46957 16 10C16 10.5304 16.2107 11.0391 16.5858 11.4142C16.9609 11.7893 17.4696 12 18 12ZM38 0H10C9.46957 0 8.96086 0.210714 8.58579 0.585786C8.21071 0.960859 8 1.46957 8 2V8H2C1.46957 8 0.960859 8.21071 0.585786 8.58579C0.210714 8.96086 0 9.46957 0 10V30C0 31.5913 0.632141 33.1174 1.75736 34.2426C2.88258 35.3679 4.4087 36 6 36H32C34.1217 36 36.1566 35.1571 37.6569 33.6569C39.1571 32.1566 40 30.1217 40 28V2C40 1.46957 39.7893 0.960859 39.4142 0.585786C39.0391 0.210714 38.5304 0 38 0ZM8 30C8 30.5304 7.78929 31.0391 7.41421 31.4142C7.03914 31.7893 6.53043 32 6 32C5.46957 32 4.96086 31.7893 4.58579 31.4142C4.21071 31.0391 4 30.5304 4 30V12H8V30ZM36 28C36 29.0609 35.5786 30.0783 34.8284 30.8284C34.0783 31.5786 33.0609 32 32 32H11.64C11.8728 31.3587 11.9946 30.6823 12 30V4H36V28ZM18 20H20C20.5304 20 21.0391 19.7893 21.4142 19.4142C21.7893 19.0391 22 18.5304 22 18C22 17.4696 21.7893 16.9609 21.4142 16.5858C21.0391 16.2107 20.5304 16 20 16H18C17.4696 16 16.9609 16.2107 16.5858 16.5858C16.2107 16.9609 16 17.4696 16 18C16 18.5304 16.2107 19.0391 16.5858 19.4142C16.9609 19.7893 17.4696 20 18 20ZM18 28H20C20.5304 28 21.0391 27.7893 21.4142 27.4142C21.7893 27.0391 22 26.5304 22 26C22 25.4696 21.7893 24.9609 21.4142 24.5858C21.0391 24.2107 20.5304 24 20 24H18C17.4696 24 16.9609 24.2107 16.5858 24.5858C16.2107 24.9609 16 25.4696 16 26C16 26.5304 16.2107 27.0391 16.5858 27.4142C16.9609 27.7893 17.4696 28 18 28Z" fill="white"/>
                      </svg>
                        Warrants</h2>
              </div>

              <div class="section-heading blue">
                  <h4 class="ms-3"><svg width="20" height="18" viewBox="0 0 20 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M15 8H14C13.7348 8 13.4804 8.10536 13.2929 8.29289C13.1054 8.48043 13 8.73478 13 9C13 9.26522 13.1054 9.51957 13.2929 9.70711C13.4804 9.89464 13.7348 10 14 10H15C15.2652 10 15.5196 9.89464 15.7071 9.70711C15.8946 9.51957 16 9.26522 16 9C16 8.73478 15.8946 8.48043 15.7071 8.29289C15.5196 8.10536 15.2652 8 15 8ZM15 12H14C13.7348 12 13.4804 12.1054 13.2929 12.2929C13.1054 12.4804 13 12.7348 13 13C13 13.2652 13.1054 13.5196 13.2929 13.7071C13.4804 13.8946 13.7348 14 14 14H15C15.2652 14 15.5196 13.8946 15.7071 13.7071C15.8946 13.5196 16 13.2652 16 13C16 12.7348 15.8946 12.4804 15.7071 12.2929C15.5196 12.1054 15.2652 12 15 12ZM9 6H15C15.2652 6 15.5196 5.89464 15.7071 5.70711C15.8946 5.51957 16 5.26522 16 5C16 4.73478 15.8946 4.48043 15.7071 4.29289C15.5196 4.10536 15.2652 4 15 4H9C8.73478 4 8.48043 4.10536 8.29289 4.29289C8.10536 4.48043 8 4.73478 8 5C8 5.26522 8.10536 5.51957 8.29289 5.70711C8.48043 5.89464 8.73478 6 9 6ZM19 0H5C4.73478 0 4.48043 0.105357 4.29289 0.292893C4.10536 0.48043 4 0.734784 4 1V4H1C0.734784 4 0.48043 4.10536 0.292893 4.29289C0.105357 4.48043 0 4.73478 0 5V15C0 15.7956 0.316071 16.5587 0.87868 17.1213C1.44129 17.6839 2.20435 18 3 18H16C17.0609 18 18.0783 17.5786 18.8284 16.8284C19.5786 16.0783 20 15.0609 20 14V1C20 0.734784 19.8946 0.48043 19.7071 0.292893C19.5196 0.105357 19.2652 0 19 0ZM4 15C4 15.2652 3.89464 15.5196 3.70711 15.7071C3.51957 15.8946 3.26522 16 3 16C2.73478 16 2.48043 15.8946 2.29289 15.7071C2.10536 15.5196 2 15.2652 2 15V6H4V15ZM18 14C18 14.5304 17.7893 15.0391 17.4142 15.4142C17.0391 15.7893 16.5304 16 16 16H5.82C5.93642 15.6793 5.9973 15.3411 6 15V2H18V14ZM9 10H10C10.2652 10 10.5196 9.89464 10.7071 9.70711C10.8946 9.51957 11 9.26522 11 9C11 8.73478 10.8946 8.48043 10.7071 8.29289C10.5196 8.10536 10.2652 8 10 8H9C8.73478 8 8.48043 8.10536 8.29289 8.29289C8.10536 8.48043 8 8.73478 8 9C8 9.26522 8.10536 9.51957 8.29289 9.70711C8.48043 9.89464 8.73478 10 9 10ZM9 14H10C10.2652 14 10.5196 13.8946 10.7071 13.7071C10.8946 13.5196 11 13.2652 11 13C11 12.7348 10.8946 12.4804 10.7071 12.2929C10.5196 12.1054 10.2652 12 10 12H9C8.73478 12 8.48043 12.1054 8.29289 12.2929C8.10536 12.4804 8 12.7348 8 13C8 13.2652 8.10536 13.5196 8.29289 13.7071C8.48043 13.8946 8.73478 14 9 14Z" fill="#1F1F1F"/>
                      </svg>
                        Warrants</h4>
              </div>


              <div class="warrants-list">
                  <div class="warrants-row">
                    <warrant-item  v-for="(warrant, index) in warrantsList" :key="index" :warrant="warrant" />
                      <!-- <div class="warrants-item">
                          <div class="tag-no">#2439</div>
                          <div class="wanted-name">
                              <h3>Wanted</h3>
                              <h4>Curtis Everston</h4>
                              <h5>By: Timothy Rooney</h5>
                          </div>
                          <div class="created-by">Created: 07/10/21 16:56</div>
                          <div class="tag">Pending Warrant</div>
  
                          <div class="warrants-item-footer d-grid gap-2">
                              <button data-bs-toggle="modal" data-bs-target="#activeWarrant" class="btn btn-outline-success">Accept</button>
                              <button data-bs-toggle="modal" data-bs-target="#rejectWarrant" class="btn btn-outline-danger">Reject</button>
                          </div>
  
                      </div>
                      <div class="warrants-item active">
                          <div class="tag-no">#2439</div>
                          <div class="wanted-name">
                              <h3>Wanted</h3>
                              <h4>Curtis Everston</h4>
                              <h5>By: Timothy Rooney</h5>
                          </div>
                          <div class="created-by">Created: 07/10/21 16:56</div>
                          <div class="tag">Active Warrant</div>
  
                          <div class="warrants-item-footer d-grid gap-2">
                              <button class="btn btn-outline-secondary">View Details</button>
                          </div>
  
                      </div> -->
                  </div>
                  
              </div>

              <warrant-reject-modal />
              <warrant-accept-modal />
              <input type="hidden" :value="getRefreshWarrantListCheck" />

          </div>
      </div>
  </div>
</template>

<script>
import { mapGetters } from 'vuex'
import WarrantAcceptModal from '~/components/warrants/WarrantAcceptModal.vue'
import warrantItem from '~/components/warrants/warrantItem.vue'
import WarrantRejectModal from '~/components/warrants/WarrantRejectModal.vue'
export default {
  components: { warrantItem, WarrantRejectModal, WarrantAcceptModal },
  name: 'Warrants',
  layout: 'master',
  data () {
    return {
      warrantsList: []
    }
  },
  mounted () {
    this.$store.commit('setActiveTab', 'warrants')
    this.fetchAllWarrants()
  },
  computed: {
    getRefreshWarrantListCheck() {
      if(this.getRefreshWarrantList){
        this.fetchAllWarrants()
      }
    },
    ...mapGetters({
      getRefreshWarrantList: 'warrant/getRefreshWarrantList'
    })
  },
  methods: {
    async fetchAllWarrants(){
      this.warrantsList = await this.$store.dispatch(
        'warrant/fetchAllWarrants',
        {}
      )
    }
  }
}
</script>
<style lang="css">
  .page-title-banner.warrants {
      background: url('~/assets/images/warrants-banner.png') no-repeat;
      background-size: 100% !important;
  }
  .warrants-row {
    display: flex;
    margin-left: -10px;
    margin-right: -10px;
    flex-wrap: wrap;
    align-items: flex-start;
  }
  @media (min-width: 576px) {
    .warrants-row .warrants-item {
      flex: 0 0 auto;
      width: 20%;
      padding: 20px;
      margin-left: 10px;
      margin-right: 10px;
    }
  }

  .warrants-row .warrants-item  {
      background: #FFFDFA;
      border: 1px solid rgba(255, 204, 128, 0.5);
      box-sizing: border-box;


      /* Shadow */
      box-shadow: 0px 10px 30px rgba(0, 0, 0, 0.05);
      border-radius: 15px;
  }
  .warrants-item .tag-no {
      font-size: 14px;
      margin-bottom: 7px;
  }
  .warrants-item .wanted-name {
      margin-bottom: 20px;
  }
  .warrants-item .wanted-name h3 {
      color: #EE0000;
      font-size: 18px;
      margin: 0;
  }
  .warrants-item .wanted-name h4 {
      font-weight: normal;
      font-size: 18px;
      margin: 0;
  }
  .warrants-item .wanted-name h5  {
      font-weight: normal;
      font-size: 18px;
      margin: 0;
      color: rgba(27, 27, 27, 0.5);
  }
  .warrants-item .created-by {
      font-size: 14px;
      color: rgba(27, 27, 27, 0.5);
  }
  .warrants-item .tag {
      background: rgba(245, 147, 0, 0.05);
      border-radius: 10px;
      color: #F59300;
      display: inline-block;
      padding: 3px 11px;
      font-size: 18px;
      margin-bottom: 20px;
  }
  .warrants-item .warrants-item-footer .btn {
      font-size: 18px;
      font-weight: normal;
      height: 50px;
  }
  .warrants-row .warrants-item.active {
      background: #FFFAFA;
      border: 1px solid rgba(255, 128, 128, 0.5);
      box-shadow: 0px 10px 30px rgba(0, 0, 0, 0.05);
  }
  .warrants-item.active .tag  {
      background: rgba(238, 0, 0, 0.05);
      color: #EE0000
      ;
  }

</style>
