(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{551:function(e,t,o){var content=o(560);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(65).default)("adbf6b40",content,!0,{sourceMap:!1})},559:function(e,t,o){"use strict";o(551)},560:function(e,t,o){var n=o(64)(!1);n.push([e.i,".filepond--wrapper[data-v-596a658c]{width:150px}.filepond--drop-label[data-v-596a658c]{color:#4c4e53}.filepond--label-action[data-v-596a658c]{-webkit-text-decoration-color:#babdc0;text-decoration-color:#babdc0}.filepond--panel-root[data-v-596a658c]{background-color:#edf0f4}.filepond--root[data-v-596a658c]{width:150px;margin:0 auto}",""]),e.exports=n},615:function(e,t,o){"use strict";o.r(t);o(22),o(571),o(20),o(575),o(577),o(578),o(579),o(580),o(581),o(582),o(583),o(584),o(585),o(586),o(587),o(588),o(589),o(590),o(592),o(593),o(594),o(595),o(596),o(597),o(598),o(599),o(600),o(18);var n=o(601),r=o.n(n),l=(o(602),o(603),o(604),o(605)),c=o.n(l),d=o(606),f=o.n(d),m=o(607),h=o.n(m),v={name:"ProfileImageUploader",components:{FilePond:r()(c.a,f.a,h.a)},props:{profileImage:{type:String,default:function(){return""}}},data:function(){return{removeFiles:[],myFiles:[],uploadFiles:[],server:{process:function(e,t,o,n,r,progress,l){var c=new FormData;if(c.append(e,t,t.name),""===t.webkitRelativePath){var d={onUploadProgress:function(e){progress(e.lengthComputable,e.loaded,e.total)}};window.$nuxt.$axios.$post("/upload-file",c,d).then((function(e){var data=e.data;n(JSON.stringify(data))})).catch((function(e){r("unable to upload file")}))}else n(t)},fetch:function(e,t){console.log(e),window.$nuxt.$axios.$get(e).then((function(e){for(var data=e.data,o=data.content,n=atob(o),r=n.length,l=new Uint8Array(r);r--;)l[r]=n.charCodeAt(r);var c=new File([l],data.name,{type:data["content-type"]});t(c,data.name)}))}}}},mounted:function(){""!=this.profileImage&&(this.myFiles=[this.profileImage])},methods:{handleOnerror:function(e,t,o){console.error("was in error routine",e)},handleFile:function(e,t){if(null==e&&"string"!=typeof t.source){var o=JSON.parse(t.serverId);this.uploadFiles.push(o.name),this.submitFiles()}},submitFiles:function(){this.$emit("file-uploaded",this.uploadFiles.join("|"))}}},w=(o(559),o(28)),component=Object(w.a)(v,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{},[o("FilePond",{ref:"pond",staticClass:"fileponduploader",attrs:{name:"profile_image","accepted-file-types":"image/*","allow-image-preview":"true","style-panel-layout":"compact circle","instant-upload":"true","image-preview-height":"500","image-crop-aspect-ratio":"1:1","image-resize-target-width":"500","image-resize-target-height":"500","style-load-indicator-position":"center bottom","style-button-remove-item-position":"center bottom",server:e.server,files:e.myFiles},on:{processfile:e.handleFile}})],1)}),[],!1,null,"596a658c",null);t.default=component.exports}}]);