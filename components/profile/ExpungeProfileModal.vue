<template>
  <div>
    <div v-if="showModalComputed" class="modal fade show"
      :class= "{show: showModalComputed}"
     id="expungeRecords" tabindex="-1" :style="{display: showModalComputed ? 'block' : 'none'}"  aria-hidden="true">
      <div class="modal-dialog alert-modal warning modal-dialog-centered">
        <div class="modal-content">

          <div class="modal-body">
              <div class="alert-icon">
            
                      
              </div>
              <div class="alert-content">
                  <h4>Expunge Records</h4>
                  <p>Are you sure?<br>
                      All records will be completely removed from this user.</p>
              </div>
          </div>
          <div class="alert-footer">
              <button @click="closeModal" class="btn" data-bs-dismiss="modal">Close</button>
              <button @click="expungeRecord" class="btn btn-warning">
                <svg width="18" height="20" viewBox="0 0 18 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M10.8971 9.99739H5.4987C5.26007 9.99739 5.03122 10.0922 4.86248 10.2609C4.69375 10.4297 4.59896 10.6585 4.59896 10.8971C4.59896 11.1358 4.69375 11.3646 4.86248 11.5333C5.03122 11.7021 5.26007 11.7969 5.4987 11.7969H10.8971C11.1358 11.7969 11.3646 11.7021 11.5333 11.5333C11.7021 11.3646 11.7969 11.1358 11.7969 10.8971C11.7969 10.6585 11.7021 10.4297 11.5333 10.2609C11.3646 10.0922 11.1358 9.99739 10.8971 9.99739ZM15.7647 16.2956L16.9344 15.1349C17.1038 14.9655 17.199 14.7357 17.199 14.4961C17.199 14.2565 17.1038 14.0267 16.9344 13.8573C16.765 13.6878 16.5352 13.5927 16.2956 13.5927C16.056 13.5927 15.8262 13.6878 15.6568 13.8573L14.4961 15.0269L13.3354 13.8573C13.166 13.6878 12.9362 13.5927 12.6966 13.5927C12.457 13.5927 12.2272 13.6878 12.0578 13.8573C11.8884 14.0267 11.7932 14.2565 11.7932 14.4961C11.7932 14.7357 11.8884 14.9655 12.0578 15.1349L13.2275 16.2956L12.0578 17.4562C11.9735 17.5399 11.9065 17.6394 11.8608 17.749C11.8152 17.8587 11.7917 17.9763 11.7917 18.095C11.7917 18.2138 11.8152 18.3314 11.8608 18.4411C11.9065 18.5507 11.9735 18.6502 12.0578 18.7339C12.1414 18.8182 12.2409 18.8851 12.3506 18.9308C12.4602 18.9765 12.5778 19 12.6966 19C12.8154 19 12.933 18.9765 13.0426 18.9308C13.1523 18.8851 13.2518 18.8182 13.3354 18.7339L14.4961 17.5642L15.6568 18.7339C15.7404 18.8182 15.8399 18.8851 15.9495 18.9308C16.0592 18.9765 16.1768 19 16.2956 19C16.4143 19 16.5319 18.9765 16.6416 18.9308C16.7512 18.8851 16.8507 18.8182 16.9344 18.7339C17.0187 18.6502 17.0856 18.5507 17.1313 18.4411C17.177 18.3314 17.2005 18.2138 17.2005 18.095C17.2005 17.9763 17.177 17.8587 17.1313 17.749C17.0856 17.6394 17.0187 17.5399 16.9344 17.4562L15.7647 16.2956ZM9.09765 17.1953H3.69922C3.46059 17.1953 3.23174 17.1005 3.06301 16.9318C2.89427 16.763 2.79948 16.5342 2.79948 16.2956V3.69922C2.79948 3.46059 2.89427 3.23174 3.06301 3.06301C3.23174 2.89427 3.46059 2.79948 3.69922 2.79948H8.19791V5.4987C8.19791 6.21457 8.48229 6.90113 8.9885 7.40733C9.4947 7.91353 10.1813 8.19791 10.8971 8.19791H13.5963V10.8971C13.5963 11.1358 13.6911 11.3646 13.8599 11.5333C14.0286 11.7021 14.2575 11.7969 14.4961 11.7969C14.7347 11.7969 14.9636 11.7021 15.1323 11.5333C15.301 11.3646 15.3958 11.1358 15.3958 10.8971V7.29817V7.24419C15.3865 7.16153 15.3684 7.0801 15.3418 7.00126V6.92028C15.2986 6.82777 15.2409 6.74273 15.1709 6.66836L9.77246 1.26992C9.69808 1.19994 9.61304 1.14223 9.52053 1.09897C9.49076 1.09376 9.46032 1.09376 9.43056 1.09897C9.34307 1.05219 9.24905 1.01882 9.15164 1H3.69922C2.98334 1 2.29678 1.28438 1.79058 1.79058C1.28438 2.29678 1 2.98334 1 3.69922V16.2956C1 17.0114 1.28438 17.698 1.79058 18.2042C2.29678 18.7104 2.98334 18.9948 3.69922 18.9948H9.09765C9.33628 18.9948 9.56513 18.9 9.73386 18.7313C9.9026 18.5625 9.99739 18.3337 9.99739 18.095C9.99739 17.8564 9.9026 17.6276 9.73386 17.4588C9.56513 17.2901 9.33628 17.1953 9.09765 17.1953ZM9.99739 4.06811L12.3277 6.39843H10.8971C10.6585 6.39843 10.4297 6.30364 10.2609 6.13491C10.0922 5.96617 9.99739 5.73732 9.99739 5.4987V4.06811ZM5.4987 6.39843C5.26007 6.39843 5.03122 6.49323 4.86248 6.66196C4.69375 6.8307 4.59896 7.05955 4.59896 7.29817C4.59896 7.5368 4.69375 7.76565 4.86248 7.93439C5.03122 8.10312 5.26007 8.19791 5.4987 8.19791H6.39843C6.63706 8.19791 6.86591 8.10312 7.03465 7.93439C7.20338 7.76565 7.29817 7.5368 7.29817 7.29817C7.29817 7.05955 7.20338 6.8307 7.03465 6.66196C6.86591 6.49323 6.63706 6.39843 6.39843 6.39843H5.4987ZM9.09765 13.5963H5.4987C5.26007 13.5963 5.03122 13.6911 4.86248 13.8599C4.69375 14.0286 4.59896 14.2575 4.59896 14.4961C4.59896 14.7347 4.69375 14.9636 4.86248 15.1323C5.03122 15.301 5.26007 15.3958 5.4987 15.3958H9.09765C9.33628 15.3958 9.56513 15.301 9.73386 15.1323C9.9026 14.9636 9.99739 14.7347 9.99739 14.4961C9.99739 14.2575 9.9026 14.0286 9.73386 13.8599C9.56513 13.6911 9.33628 13.5963 9.09765 13.5963Z" fill="white" stroke="#F59300" stroke-width="0.5"/>
                </svg>
                Expunge
              </button>
          </div>
          
        </div>
      </div>
    </div>
    <div v-if="showModalComputed" class="modal-backdrop fade show" />
  </div>
</template>

<script>
export default {
  props: ['showModal','profileId'],
  name: 'ExpungeProfileModal',
  data () {
    return {
      active: true
    }
  },
  mounted() {
  },
  computed: {
    showModalComputed() {
      return this.showModal
    }
  },
  methods: {
    expungeRecord() {

      this.$store
        .dispatch('profile/expungeProfileRecord', {
            profile_id: this.profileId
        })
        .then(() => {
          this.closeModal()
        })
        .catch(() => {

        })

    },
    closeModal() {
      this.$emit('close', this.$event)
    }
  }
}
</script>